# Reaction 搜索功能示例

## 功能说明

Reaction 搜索功能允许用户通过 Emoji 图标快速查找和筛选记录。支持两种搜索方式：

1. **全文搜索**：直接在搜索框输入 Emoji
2. **自定义筛选器**：使用 `^` 符号创建筛选规则

## 全文搜索示例

### 示例 1：搜索单个 Emoji
```
搜索输入：🌸
结果：返回所有带有 🌸 Reaction 的记录
```

### 示例 2：搜索多个 Emoji
```
搜索输入：🎉
结果：返回所有带有 🎉 Reaction 的记录
```

### 示例 3：组合搜索
```
搜索输入：瑜伽 🌸
结果：返回备注包含"瑜伽"或带有 🌸 Reaction 的记录
```

## 自定义筛选器示例

### 基础语法

| 符号 | 含义 | 示例 |
|------|------|------|
| `^` | Reaction Emoji | `^🌸` |
| `#` | 标签名称 | `#运动` |
| `%` | 领域名称 | `%健康` |
| `@` | 待办标题 | `@任务` |
| 无符号 | 备注全文 | `瑜伽` |
| `OR` | 逻辑或 | `^🎉 OR ^❤️` |
| 空格 | 逻辑与 | `#运动 ^💪` |

### 示例 1：单个 Reaction 筛选
```
筛选器名称：成就时刻
筛选表达式：^🎉
说明：筛选所有带有 🎉 Reaction 的记录
```

### 示例 2：多个 Reaction 的 OR 组合
```
筛选器名称：积极体验
筛选表达式：^❤️ OR ^✨ OR ^🎉
说明：筛选带有爱心、星光或彩带 Reaction 的记录
```

### 示例 3：Reaction + 标签
```
筛选器名称：运动高光
筛选表达式：#运动 ^💪
说明：筛选标签包含"运动"且带有 💪 Reaction 的记录
```

### 示例 4：Reaction + 领域
```
筛选器名称：健康积极记录
筛选表达式：%健康 ^❤️ OR ^✨
说明：筛选健康领域中带有爱心或星光 Reaction 的记录
```

### 示例 5：复杂组合
```
筛选器名称：瑜伽美好时刻
筛选表达式：瑜伽 #运动 %健康 ^🌸 OR ^✨
说明：筛选备注包含"瑜伽"、标签包含"运动"、领域包含"健康"、
      且带有花瓣或星光 Reaction 的记录
```

### 示例 6：待办 + Reaction
```
筛选器名称：完成的重要任务
筛选表达式：@项目 ^🎉
说明：筛选待办标题包含"项目"且带有 🎉 Reaction 的记录
```

### 示例 7：多条件 AND
```
筛选器名称：冥想练习记录
筛选表达式：冥想 %健康 ^🌸
说明：筛选备注包含"冥想"、领域包含"健康"、
      且带有 🌸 Reaction 的记录
```

## 使用技巧

### 1. 快速查找
- 使用全文搜索快速查看某个 Reaction 的所有记录
- 无需创建筛选器，即时查看结果

### 2. 统计分析
- 创建筛选器统计特定 Reaction 的使用频率
- 查看筛选器详情页的时间线和热力图

### 3. 组合筛选
- 结合标签、领域、待办等条件进行复杂筛选
- 使用 OR 逻辑组合多个 Reaction

### 4. 前缀继承
```
^🎉 OR 🔥
等同于
^🎉 OR ^🔥
```
当使用 OR 连接时，后续的 Emoji 会自动继承前面的 `^` 前缀

## 注意事项

1. **Emoji 输入**
   - 确保输入的是完整的 Emoji 字符
   - 某些复合 Emoji 可能需要特殊处理

2. **大小写**
   - Emoji 搜索不区分大小写（因为 Emoji 本身没有大小写）
   - 其他文本搜索不区分大小写

3. **匹配逻辑**
   - Reaction 搜索使用精确匹配
   - 只匹配记录的 reactions 数组中的 Emoji

4. **性能考虑**
   - 大量记录时，建议使用筛选器而非全文搜索
   - 筛选器结果会被缓存，性能更好

## 常见问题

### Q: 为什么搜索不到某个 Emoji？
A: 请确认：
- 该记录确实添加了该 Reaction
- 输入的 Emoji 与记录中的完全一致
- 没有输入错误的变体字符

### Q: 可以同时搜索多个不同的 Reaction 吗？
A: 可以，使用 OR 逻辑：
```
^🎉 OR ^❤️ OR ^🔥
```

### Q: 如何筛选没有 Reaction 的记录？
A: 目前不支持反向筛选（NOT 逻辑），这是未来可能添加的功能。

### Q: Reaction 搜索支持通配符吗？
A: 不支持。Reaction 搜索使用精确匹配，必须输入完整的 Emoji。
