# 自动日课功能测试检查清单

## 🎯 测试前准备

### 1. 确保有测试数据
- [ ] 至少有 2-3 个活动分类和标签
- [ ] 至少有 1-2 个领域
- [ ] 当天有一些活动记录（用于测试自动判断）

### 2. 备份数据
- [ ] 导出当前数据（以防测试过程中出现问题）

---

## 📝 功能测试清单

### 一、模板管理界面测试

#### 1.1 创建手动日课模板
- [ ] 进入：设置 → 每日回顾 → 日课模板
- [ ] 点击"新建模板"
- [ ] 输入模板名称（如：📋 日常习惯）
- [ ] 添加几个手动日课项
- [ ] 保存成功
- [ ] 检查模板列表中显示正确

#### 1.2 创建自动日课模板
- [ ] 新建或编辑一个模板
- [ ] 添加日课项
- [ ] 选择类型为"⚡ 自动"
- [ ] 检查是否出现配置按钮（⚡ 图标）
- [ ] 配置按钮应该有动画提示（未配置时）

#### 1.3 配置自动日课规则

**测试场景 1：学习时长达标**
- [ ] 点击配置按钮
- [ ] 输入日课名称："学习时长达标"
- [ ] 筛选条件：`#学习` 或你的学习标签
- [ ] 判断类型：总时长
- [ ] 运算符：`>=`
- [ ] 目标值：2 小时 0 分钟（测试用较小值）
- [ ] 检查规则预览是否正确显示
- [ ] 保存配置
- [ ] 检查是否显示蓝色规则预览条

**测试场景 2：早起打卡**
- [ ] 添加另一个自动日课
- [ ] 日课名称："早起"
- [ ] 筛选条件：`#起床` 或相关标签
- [ ] 判断类型：最早开始时间
- [ ] 运算符：`<=`
- [ ] 目标值：08:00
- [ ] 保存配置

**测试场景 3：控制娱乐时间**
- [ ] 添加第三个自动日课
- [ ] 日课名称："娱乐时间控制"
- [ ] 筛选条件：`%娱乐` 或相关领域
- [ ] 判断类型：总时长
- [ ] 运算符：`<=`
- [ ] 目标值：1 小时 30 分钟
- [ ] 保存配置

#### 1.4 混合模板测试
- [ ] 在同一个模板中同时添加手动和自动日课
- [ ] 保存模板
- [ ] 检查两种类型是否都正确保存

#### 1.5 编辑自动日课
- [ ] 编辑已有的自动日课
- [ ] 修改筛选条件
- [ ] 修改目标值
- [ ] 保存后检查规则预览是否更新

#### 1.6 类型切换测试
- [ ] 将手动日课切换为自动
- [ ] 检查是否要求配置规则
- [ ] 将自动日课切换为手动
- [ ] 检查自动配置是否被清除

#### 1.7 验证测试
- [ ] 尝试保存未配置规则的自动日课
- [ ] 应该显示错误提示："有 X 个自动日课未配置规则"
- [ ] 配置规则后应该可以正常保存

---

### 二、日报界面测试

#### 2.1 创建新日报
- [ ] 选择今天的日期
- [ ] 打开日报
- [ ] 切换到"日课"标签
- [ ] 检查是否自动导入了模板中的日课
- [ ] 检查手动和自动日课是否都存在

#### 2.2 自动日课显示
- [ ] 自动日课应该有蓝色复选框（未完成时为空心蓝色边框）
- [ ] 应该显示"自动"标签（蓝色背景）
- [ ] 鼠标悬停时不应该显示编辑/删除按钮
- [ ] 点击自动日课不应该切换状态

#### 2.3 手动日课显示
- [ ] 手动日课应该有黑色复选框
- [ ] 不显示"自动"标签
- [ ] 可以点击切换完成状态
- [ ] 鼠标悬停显示编辑/删除按钮（如果没有分类）

#### 2.4 自动状态更新

**准备工作：**
- [ ] 确保今天有一些活动记录
- [ ] 记录应该匹配自动日课的筛选条件

**测试步骤：**
- [ ] 打开日报，切换到日课标签
- [ ] 检查自动日课的完成状态
- [ ] 添加一些新的活动记录（匹配筛选条件）
- [ ] 关闭日报，重新打开
- [ ] 切换到日课标签
- [ ] 检查自动日课状态是否更新

**具体测试：**

**学习时长测试：**
- [ ] 如果学习时长 < 2小时，应该未完成
- [ ] 添加学习活动使总时长 >= 2小时
- [ ] 重新打开日课，应该显示为完成（蓝色实心）

**早起测试：**
- [ ] 如果有 8:00 前的起床记录，应该完成
- [ ] 如果没有或晚于 8:00，应该未完成

**娱乐控制测试：**
- [ ] 如果娱乐时长 <= 1.5小时，应该完成
- [ ] 如果超过，应该未完成

#### 2.5 重新导入模板
- [ ] 点击"重新从模板导入"
- [ ] 确认操作
- [ ] 检查自动日课是否被重新导入
- [ ] 检查自动日课状态是否正确更新

#### 2.6 清空日课
- [ ] 点击"清空当日日课"
- [ ] 确认操作
- [ ] 检查所有日课（包括自动）是否被清空

---

### 三、数据统计测试

#### 3.1 日课统计
- [ ] 进入数据统计页面
- [ ] 切换到"日课"视图
- [ ] 检查自动日课是否出现在统计中
- [ ] 检查完成率计算是否正确

#### 3.2 周视图
- [ ] 切换到周视图
- [ ] 检查自动日课的完成情况
- [ ] 检查颜色显示是否正确

#### 3.3 月视图
- [ ] 切换到月视图
- [ ] 检查日历网格中的日课显示
- [ ] 检查自动日课的完成标记

---

### 四、边界情况测试

#### 4.1 无匹配记录
- [ ] 创建一个筛选条件不匹配任何记录的自动日课
- [ ] 检查是否显示为未完成
- [ ] 不应该报错

#### 4.2 空筛选条件
- [ ] 尝试保存空筛选条件的自动日课
- [ ] 应该被阻止或显示警告

#### 4.3 极端时间值
- [ ] 测试 00:00 作为目标时间
- [ ] 测试 23:59 作为目标时间
- [ ] 测试 0 分钟作为时长
- [ ] 测试很大的时长值（如 10 小时）

#### 4.4 特殊字符
- [ ] 在筛选条件中使用特殊字符
- [ ] 在日课名称中使用 emoji
- [ ] 检查是否正常工作

#### 4.5 历史日期
- [ ] 打开过去某天的日报
- [ ] 检查自动日课状态是否基于那天的数据
- [ ] 不应该使用今天的数据

---

### 五、性能测试

#### 5.1 大量日课
- [ ] 创建包含 10+ 个日课的模板（混合手动和自动）
- [ ] 打开日报
- [ ] 检查加载速度是否正常
- [ ] 检查状态更新是否流畅

#### 5.2 复杂筛选条件
- [ ] 使用复杂的筛选表达式（多个 OR 条件）
- [ ] 检查计算是否正确
- [ ] 检查性能是否可接受

---

### 六、兼容性测试

#### 6.1 现有数据
- [ ] 打开包含旧版手动日课的历史日报
- [ ] 检查是否正常显示
- [ ] 检查是否可以正常操作

#### 6.2 数据导出导入
- [ ] 导出包含自动日课的数据
- [ ] 清空数据
- [ ] 导入数据
- [ ] 检查自动日课配置是否完整
- [ ] 检查状态更新是否正常

---

## 🐛 已知问题记录

在测试过程中发现的问题请记录在这里：

### 问题 1
- **描述**：
- **重现步骤**：
- **预期行为**：
- **实际行为**：
- **严重程度**：🔴 严重 / 🟡 中等 / 🟢 轻微

### 问题 2
- **描述**：
- **重现步骤**：
- **预期行为**：
- **实际行为**：
- **严重程度**：

---

## ✅ 测试完成确认

- [ ] 所有核心功能测试通过
- [ ] 所有边界情况测试通过
- [ ] 性能测试通过
- [ ] 兼容性测试通过
- [ ] 没有发现严重问题
- [ ] 文档已更新

---

## 📊 测试结果总结

**测试日期**：____________________

**测试人员**：____________________

**通过率**：_____ / _____ (___%)

**主要发现**：

**建议改进**：

**是否可以发布**：□ 是  □ 否  □ 需要修复后重测
