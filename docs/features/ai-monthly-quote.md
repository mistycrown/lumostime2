# AI 月度引言生成器

## 功能介绍

AI 月度引言生成器是一个智能化的月度回顾辅助工具，通过简单的问答交互，帮助用户生成个性化的月度引言。

## 使用场景

在完成月度回顾时，用户可能希望用一句话来总结或代表这个月的状态、感受或领悟。AI 引言生成器通过几个简单的问题，了解用户这个月的整体情况，然后生成多句风格各异的引言供用户选择。

## 功能特点

- **语言选择**：支持中文或英文名言
- **真实名言**：所有引言都来自古今中外的真实名人名言
- **简单交互**：只需回答 3 个选择题
- **个性化推荐**：基于用户期许推荐贴合的名言
- **多样选择**：一次推荐 5 句不同风格的名言
- **即时应用**：选择后自动填充到月度引言中

## 使用步骤

### 1. 打开月度回顾

在时间轴视图中，点击任意月份的月度回顾入口。

### 2. 进入引言 Tab

在月度回顾页面，切换到"引言"标签页。

### 3. 启动 AI 生成器

点击"向 AI 找找灵感"按钮，打开 AI 引言生成器。

### 4. 回答问题

系统会随机抽取 3 个问题，每个问题都有多个选项供选择：

- 问题示例：
  - 这个月你的整体心情如何？
  - 这个月你最大的收获是什么？
  - 对于下个月，你最期待什么？

- 选择你最贴合的答案
- 可以使用"上一题"按钮返回修改
- 进度条会显示当前进度

### 5. 等待生成

回答完所有问题后，AI 会自动开始生成引言。这个过程通常需要几秒钟。

### 6. 选择引言

AI 会生成 5 句不同风格的引言：

- 励志型："每一步都算数，每一天都在成长"
- 哲理型："接纳不完美，才能看见真实的自己"
- 诗意型："在平凡的日子里，种下不平凡的种子"
- 温暖型："慢一点也没关系，重要的是一直在路上"
- 清醒型："保持清醒，保持热爱，保持前进"

点击你最喜欢的一句，它会自动填充到引言输入框中。

### 7. 编辑和保存

选择的引言会自动填充到输入框，你可以：
- 直接使用
- 继续编辑修改
- 或者重新生成

## 问题库

系统包含 10 个精心设计的问题，涵盖多个维度：

1. **心情状态**：充满活力、平静安稳、有些疲惫、起伏不定、焦虑不安
2. **收获成就**：完成目标、学到新技能、改善关系、找到方向、保持稳定
3. **面临挑战**：时间管理、工作压力、学习困难、人际关系、自我怀疑
4. **成长方面**：专业能力、情绪管理、人际交往、自我认知、生活平衡
5. **未来期待**：新的开始、持续进步、突破瓶颈、找到平衡、保持现状
6. **重视价值**：效率成果、健康休息、学习成长、关系陪伴、自由探索
7. **自我反思**：继续加油、慢一点也没关系、要更勇敢、已经很好、是时候改变
8. **能量状态**：精力充沛、稳定输出、时好时坏、经常疲惫、需要充电
9. **注意力焦点**：工作事业、学习提升、健康生活、人际关系、兴趣爱好
10. **满意度**：非常满意、基本满意、一般般、有些遗憾、需要改进

## 前置条件

使用 AI 引言生成器需要：

1. **配置 AI 服务**
   - 在设置中配置 OpenAI 或 Gemini 的 API Key
   - 确保 API Key 有效且有足够的配额

2. **网络连接**
   - 需要稳定的网络连接来调用 AI 服务

## 注意事项

- 每次生成会消耗 AI API 配额
- 生成的引言基于你的回答，不同的回答会产生不同的结果
- 可以多次重新生成，直到找到满意的引言
- 引言会自动保存在月度回顾数据中

## 技术说明

### AI 提示词设计

系统使用精心设计的提示词来确保生成高质量的引言：

- **角色定位**：富有洞察力的人生导师和文学家
- **生成要求**：
  - 风格多样（励志、哲理、诗意、温暖、清醒等）
  - 简洁有力（15-30 字）
  - 贴合用户（反映用户状态和感受）
  - 富有意境（使用比喻和意象）
  - 独立完整（每句话都是完整表达）

### 数据存储

- 引言保存在月度回顾的 `cite` 字段中
- 与月度回顾数据一起持久化存储
- 支持数据同步（如果启用了 WebDAV 同步）

## 常见问题

### Q: 为什么生成失败？

A: 可能的原因：
- AI 服务配置不正确
- API Key 无效或配额不足
- 网络连接问题
- AI 服务暂时不可用

解决方法：
- 检查设置中的 AI 配置
- 确认网络连接正常
- 稍后重试

### Q: 可以自定义问题吗？

A: 当前版本使用预设的问题库，暂不支持自定义问题。未来版本可能会添加此功能。

### Q: 生成的引言可以修改吗？

A: 可以。选择引言后，它会填充到输入框中，你可以自由编辑修改。

### Q: 可以保存多个引言吗？

A: 每个月只能保存一个引言。如果想更换，可以重新生成或直接编辑。

### Q: 引言会显示在哪里？

A: 引言会显示在：
- 月度回顾的引言 Tab 中
- Memoir 页面顶部的引用卡片中（如果有实现）

## 未来计划

- 支持自定义问题
- 引言历史记录
- 引言收藏功能
- 更多的引言风格选项
- 引言分享功能
