# åŒå›¾æ ‡ç³»ç»Ÿæµ‹è¯•æ¸…å•

## æµ‹è¯•å‰å‡†å¤‡

1. å¤‡ä»½å½“å‰çš„ localStorage æ•°æ®
2. ç¡®ä¿æœ‰ä¸€äº›æµ‹è¯•æ•°æ®ï¼ˆcategories, scopes, todoCategoriesï¼‰
3. è®°å½•å½“å‰çš„å›¾æ ‡è®¾ç½®

## æµ‹è¯•åœºæ™¯

### âœ… åœºæ™¯ 1: é¦–æ¬¡ä»é»˜è®¤ä¸»é¢˜åˆ‡æ¢åˆ°è‡ªå®šä¹‰ä¸»é¢˜

**æ­¥éª¤**:
1. ç¡®ä¿å½“å‰æ˜¯é»˜è®¤ä¸»é¢˜
2. æ¸…é™¤è¿ç§»æ ‡è®°ï¼š`localStorage.removeItem('lumostime_uiicon_generated')`
3. æ‰“å¼€æŠ•å–‚åŠŸèƒ½é¡µé¢ â†’ æ–¹æ¡ˆæ ‡ç­¾é¡µ
4. ç‚¹å‡»ä»»æ„è‡ªå®šä¹‰ä¸»é¢˜ï¼ˆå¦‚ Purpleï¼‰

**é¢„æœŸç»“æœ**:
- âœ… æ˜¾ç¤ºæç¤ºï¼š"UI å›¾æ ‡ç”Ÿæˆå®Œæˆï¼šX ä¸ªå·²åŒ¹é…ï¼ŒY ä¸ªéœ€è¦æ‰‹åŠ¨è®¾ç½®ï¼Œæ­£åœ¨åˆ·æ–°..."
- âœ… é¡µé¢è‡ªåŠ¨åˆ·æ–°
- âœ… åˆ·æ–°åï¼Œèƒ½åŒ¹é…çš„å›¾æ ‡æ˜¾ç¤ºä¸º UI å›¾æ ‡
- âœ… ä¸èƒ½åŒ¹é…çš„å›¾æ ‡æ˜¾ç¤ºä¸ºåŸå§‹ emoji
- âœ… localStorage ä¸­è®¾ç½®äº† `lumostime_uiicon_generated = 'true'`

**éªŒè¯æ•°æ®**:
```javascript
// åœ¨æ§åˆ¶å°æ‰§è¡Œ
const categories = JSON.parse(localStorage.getItem('lumostime_categories'));
console.log('ç¬¬ä¸€ä¸ª category:', categories[0]);
// åº”è¯¥çœ‹åˆ° icon å’Œ uiIcon ä¸¤ä¸ªå­—æ®µ
```

---

### âœ… åœºæ™¯ 2: ä»è‡ªå®šä¹‰ä¸»é¢˜åˆ‡æ¢å›é»˜è®¤ä¸»é¢˜

**æ­¥éª¤**:
1. ç¡®ä¿å½“å‰æ˜¯è‡ªå®šä¹‰ä¸»é¢˜ï¼ˆå¦‚ Purpleï¼‰
2. æ‰“å¼€æŠ•å–‚åŠŸèƒ½é¡µé¢ â†’ æ–¹æ¡ˆæ ‡ç­¾é¡µ
3. ç‚¹å‡»"é»˜è®¤"ä¸»é¢˜
4. åœ¨ç¡®è®¤å¯¹è¯æ¡†ä¸­ç‚¹å‡»"ç¡®è®¤"

**é¢„æœŸç»“æœ**:
- âœ… æ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†ï¼š"åˆ‡æ¢ä¸ºé»˜è®¤ä¸»é¢˜åï¼Œicon æ ¼å¼å¯èƒ½ä¼šä¸¢å¤±ï¼Œå¯èƒ½éœ€è¦é‡æ–°è®¾ç½®"
- âœ… ç¡®è®¤åï¼Œæ˜¾ç¤ºæç¤ºï¼š"å·²åº”ç”¨"é»˜è®¤"ä¸»é¢˜æ–¹æ¡ˆ"
- âœ… **ä¸åˆ·æ–°é¡µé¢**
- âœ… æ‰€æœ‰å›¾æ ‡æ˜¾ç¤ºä¸º emojiï¼ˆä¸æ˜¯ â“ æˆ–è‹±æ–‡å•è¯ï¼‰
- âœ… æ•°æ®æ²¡æœ‰è¢«ä¿®æ”¹ï¼ˆicon å’Œ uiIcon å­—æ®µéƒ½è¿˜åœ¨ï¼‰

**éªŒè¯æ•°æ®**:
```javascript
// åœ¨æ§åˆ¶å°æ‰§è¡Œ
const categories = JSON.parse(localStorage.getItem('lumostime_categories'));
console.log('ç¬¬ä¸€ä¸ª category:', categories[0]);
// åº”è¯¥çœ‹åˆ° icon å’Œ uiIcon ä¸¤ä¸ªå­—æ®µéƒ½è¿˜åœ¨
// icon åº”è¯¥æ˜¯ emojiï¼ŒuiIcon åº”è¯¥æ˜¯ ui:xxx æ ¼å¼
```

---

### âœ… åœºæ™¯ 3: å†æ¬¡ä»é»˜è®¤åˆ‡æ¢åˆ°è‡ªå®šä¹‰ä¸»é¢˜

**æ­¥éª¤**:
1. ç¡®ä¿å½“å‰æ˜¯é»˜è®¤ä¸»é¢˜
2. ç¡®ä¿å·²ç»ç”Ÿæˆè¿‡ uiIconï¼ˆ`lumostime_uiicon_generated = 'true'`ï¼‰
3. æ‰“å¼€æŠ•å–‚åŠŸèƒ½é¡µé¢ â†’ æ–¹æ¡ˆæ ‡ç­¾é¡µ
4. ç‚¹å‡»ä»»æ„è‡ªå®šä¹‰ä¸»é¢˜ï¼ˆå¦‚ Cattyï¼‰

**é¢„æœŸç»“æœ**:
- âœ… æ˜¾ç¤ºæç¤ºï¼š"å·²åº”ç”¨"Catty"ä¸»é¢˜æ–¹æ¡ˆ"
- âœ… **ä¸åˆ·æ–°é¡µé¢**
- âœ… **ä¸é‡æ–°ç”Ÿæˆ uiIcon**
- âœ… ç›´æ¥æ˜¾ç¤ºå·²æœ‰çš„ UI å›¾æ ‡
- âœ… ä¸»é¢˜åˆ‡æ¢æµç•…ï¼Œæ— å»¶è¿Ÿ

**éªŒè¯æ•°æ®**:
```javascript
// åœ¨æ§åˆ¶å°æ‰§è¡Œ
console.log('è¿ç§»æ ‡è®°:', localStorage.getItem('lumostime_uiicon_generated'));
// åº”è¯¥ä»ç„¶æ˜¯ 'true'
```

---

### âœ… åœºæ™¯ 4: åœ¨è‡ªå®šä¹‰ä¸»é¢˜ä¹‹é—´åˆ‡æ¢

**æ­¥éª¤**:
1. ç¡®ä¿å½“å‰æ˜¯è‡ªå®šä¹‰ä¸»é¢˜ï¼ˆå¦‚ Purpleï¼‰
2. æ‰“å¼€æŠ•å–‚åŠŸèƒ½é¡µé¢ â†’ æ–¹æ¡ˆæ ‡ç­¾é¡µ
3. ç‚¹å‡»å¦ä¸€ä¸ªè‡ªå®šä¹‰ä¸»é¢˜ï¼ˆå¦‚ Forestï¼‰

**é¢„æœŸç»“æœ**:
- âœ… æ˜¾ç¤ºæç¤ºï¼š"å·²åº”ç”¨"Forest"ä¸»é¢˜æ–¹æ¡ˆ"
- âœ… **ä¸åˆ·æ–°é¡µé¢**
- âœ… **ä¸åšä»»ä½•æ•°æ®è¿ç§»**
- âœ… UI å›¾æ ‡ä¸»é¢˜ç«‹å³åˆ‡æ¢
- âœ… æ‰€æœ‰å›¾æ ‡æ­£ç¡®æ˜¾ç¤ºï¼ˆä½¿ç”¨æ–°ä¸»é¢˜çš„ UI å›¾æ ‡ï¼‰

---

### âœ… åœºæ™¯ 5: ä½¿ç”¨ UI ä¸»é¢˜é€‰æ‹©å™¨

**æ­¥éª¤**:
1. æ‰“å¼€æŠ•å–‚åŠŸèƒ½é¡µé¢ â†’ Icon æ ‡ç­¾é¡µ
2. åœ¨ UI ä¸»é¢˜éƒ¨åˆ†ï¼Œç‚¹å‡»ä¸åŒçš„ä¸»é¢˜

**é¢„æœŸç»“æœ**:
- âœ… é¦–æ¬¡ä»é»˜è®¤åˆ‡æ¢åˆ°è‡ªå®šä¹‰ï¼šç”Ÿæˆ uiIcon å¹¶åˆ·æ–°
- âœ… ä»è‡ªå®šä¹‰åˆ‡æ¢å›é»˜è®¤ï¼šä¸åˆ·æ–°ï¼Œæ˜¾ç¤º emoji
- âœ… åœ¨è‡ªå®šä¹‰ä¸»é¢˜ä¹‹é—´åˆ‡æ¢ï¼šä¸åˆ·æ–°ï¼Œç«‹å³åˆ‡æ¢

---

### âœ… åœºæ™¯ 6: æ‰‹åŠ¨è®¾ç½®å›¾æ ‡

**æ­¥éª¤**:
1. åœ¨è‡ªå®šä¹‰ä¸»é¢˜ä¸‹ï¼Œç¼–è¾‘ä¸€ä¸ª category
2. ç‚¹å‡»å›¾æ ‡é€‰æ‹©å™¨ï¼Œé€‰æ‹©ä¸€ä¸ªæ–°çš„ UI å›¾æ ‡
3. ä¿å­˜

**é¢„æœŸç»“æœ**:
- âœ… `uiIcon` å­—æ®µæ›´æ–°ä¸ºæ–°çš„ UI å›¾æ ‡
- âœ… `icon` å­—æ®µä¿æŒä¸å˜ï¼ˆä»ç„¶æ˜¯ emojiï¼‰
- âœ… åœ¨è‡ªå®šä¹‰ä¸»é¢˜ä¸‹æ˜¾ç¤ºæ–°çš„ UI å›¾æ ‡
- âœ… åˆ‡æ¢å›é»˜è®¤ä¸»é¢˜åæ˜¾ç¤ºåŸå§‹ emoji

---

### âœ… åœºæ™¯ 7: æ—§æ•°æ®å…¼å®¹æ€§

**æ­¥éª¤**:
1. æ¨¡æ‹Ÿæ—§æ•°æ®ï¼ˆåªæœ‰ `icon` å­—æ®µï¼Œæ²¡æœ‰ `uiIcon`ï¼‰
```javascript
const oldData = {
  id: 'test',
  name: 'æµ‹è¯•',
  icon: 'ğŸ“š',
  // æ²¡æœ‰ uiIcon å­—æ®µ
};
localStorage.setItem('lumostime_categories', JSON.stringify([{
  id: 'cat1',
  name: 'åˆ†ç±»1',
  icon: 'ğŸ“š',
  activities: [oldData]
}]));
```
2. åˆ·æ–°é¡µé¢
3. åˆ‡æ¢åˆ°è‡ªå®šä¹‰ä¸»é¢˜

**é¢„æœŸç»“æœ**:
- âœ… æ—§æ•°æ®æ­£å¸¸æ˜¾ç¤º
- âœ… é¦–æ¬¡åˆ‡æ¢åˆ°è‡ªå®šä¹‰ä¸»é¢˜æ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆ `uiIcon`
- âœ… èƒ½åŒ¹é…çš„å›¾æ ‡æ˜¾ç¤º UI å›¾æ ‡
- âœ… ä¸èƒ½åŒ¹é…çš„æ˜¾ç¤º emoji

---

## è°ƒè¯•å‘½ä»¤

åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œè°ƒè¯•ï¼š

```javascript
// æŸ¥çœ‹å½“å‰ä¸»é¢˜
console.log('å½“å‰ä¸»é¢˜:', localStorage.getItem('lumostime_ui_icon_theme'));

// æŸ¥çœ‹è¿ç§»çŠ¶æ€
console.log('è¿ç§»æ ‡è®°:', localStorage.getItem('lumostime_uiicon_generated'));

// æŸ¥çœ‹æ•°æ®ç»“æ„
const categories = JSON.parse(localStorage.getItem('lumostime_categories'));
console.log('Categories:', categories);
console.log('ç¬¬ä¸€ä¸ª category:', categories[0]);
console.log('ç¬¬ä¸€ä¸ª activity:', categories[0]?.activities[0]);

// é‡ç½®è¿ç§»æ ‡è®°ï¼ˆç”¨äºæµ‹è¯•é¦–æ¬¡è¿ç§»ï¼‰
localStorage.removeItem('lumostime_uiicon_generated');
console.log('è¿ç§»æ ‡è®°å·²é‡ç½®');

// æŸ¥çœ‹æ‰€æœ‰ç›¸å…³çš„ localStorage é”®
Object.keys(localStorage).filter(k => k.startsWith('lumostime')).forEach(k => {
  console.log(k, ':', localStorage.getItem(k)?.substring(0, 100));
});
```

## å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1: åˆ‡æ¢å›é»˜è®¤ä¸»é¢˜åæ˜¾ç¤º â“
**åŸå› **: `icon` å­—æ®µå¯èƒ½è¢«é”™è¯¯ä¿®æ”¹
**æ£€æŸ¥**:
```javascript
const categories = JSON.parse(localStorage.getItem('lumostime_categories'));
console.log('icon å­—æ®µ:', categories[0].icon);
// åº”è¯¥æ˜¯ emojiï¼Œä¸åº”è¯¥æ˜¯ ui:xxx æ ¼å¼
```

### é—®é¢˜ 2: é¦–æ¬¡åˆ‡æ¢åˆ°è‡ªå®šä¹‰ä¸»é¢˜æ²¡æœ‰ç”Ÿæˆ uiIcon
**åŸå› **: è¿ç§»æ ‡è®°å¯èƒ½å·²å­˜åœ¨
**æ£€æŸ¥**:
```javascript
console.log('è¿ç§»æ ‡è®°:', localStorage.getItem('lumostime_uiicon_generated'));
// å¦‚æœæ˜¯ 'true'ï¼Œè¯´æ˜å·²ç»ç”Ÿæˆè¿‡äº†
```

### é—®é¢˜ 3: å›¾æ ‡ä¸æ˜¾ç¤ºæˆ–æ˜¾ç¤ºé”™è¯¯
**åŸå› **: å›¾ç‰‡è·¯å¾„å¯èƒ½ä¸æ­£ç¡®
**æ£€æŸ¥**:
```javascript
// æŸ¥çœ‹ uiIcon æ ¼å¼
const categories = JSON.parse(localStorage.getItem('lumostime_categories'));
console.log('uiIcon:', categories[0].uiIcon);
// åº”è¯¥æ˜¯ ui:xxx æ ¼å¼ï¼Œå¦‚ ui:book
```

## æµ‹è¯•å®Œæˆæ ‡å‡†

- âœ… æ‰€æœ‰ 7 ä¸ªåœºæ™¯æµ‹è¯•é€šè¿‡
- âœ… æ²¡æœ‰æ§åˆ¶å°é”™è¯¯
- âœ… æ•°æ®ç»“æ„æ­£ç¡®ï¼ˆicon å’Œ uiIcon å…±å­˜ï¼‰
- âœ… ä¸»é¢˜åˆ‡æ¢æµç•…ï¼Œæ— ä¸å¿…è¦çš„åˆ·æ–°
- âœ… å›¾æ ‡æ˜¾ç¤ºæ­£ç¡®ï¼Œæ—  â“ æˆ–è‹±æ–‡å•è¯
