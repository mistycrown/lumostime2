# 搜索与数据管理

## 为什么需要搜索和数据管理？

随着时间记录的积累，数据会越来越多。搜索和数据管理功能帮你：
- 快速找到想要的记录
- 批量处理大量数据
- 用自定义规则筛选记录

## 全局搜索

点击顶部搜索图标，可以搜索：
- **标签**：所有活动标签
- **分类**：所有大分类
- **领域**：所有领域
- **待办**：所有待办事项
- **记录**：所有时间记录
- **复盘**：所有回顾（日/周/月）

点击搜索结果直接跳转到详情页。

## 自定义筛选器

在 **设置** → **自定义筛选器** 中创建和管理筛选器。

### 什么是筛选器？

筛选器是一种自定义的数据查询规则，可以根据多个条件筛选时间记录。

### 筛选表达式语法

使用特殊符号定义筛选条件：

- **#关键词**：匹配标签名称
- **%关键词**：匹配领域名称
- **@关键词**：匹配待办标题
- **关键词**：匹配备注全文
- **OR**：逻辑或
- **空格**：逻辑与

**示例：**
- `#运动`：所有带运动标签相关的记录
- `#写代码 %科研`：带写代码标签且关联到科研领域的记录
- `#运动 OR 学习`：运动或学习的记录（等同于 `#运动 OR #学习`）
- `%健康 瑜伽 OR 冥想`：健康领域下，备注包含瑜伽或冥想的记录

### 查看筛选结果

点击筛选器后，可以查看 4 个 Tab：

#### 1. 时间线
- 总览：显示所有匹配记录的总时长和数量
- 按月分组：按月份展示匹配的记录

#### 2. 节奏
- **24 小时分布**：查看匹配记录在一天中的时间分布（如经常在下午 18 点进行）
- **周分布**：查看匹配记录在一周中的分布（如经常在周二进行）

#### 3. 趋势
- **活动热力图**：类似 GitHub Contribution 的热力图，直观展示活动频率
- **趋势折线图**：以周或月为单位，对比时间投入的变化趋势

#### 4. 专注
- 查看匹配记录的专注度统计
- 分析不同专注等级的时长分布

## 批量管理记录

在 **设置** → **批量管理记录** 中对时间记录进行批量操作。

### 功能

**筛选记录：**
- 按时间范围筛选（如 20240101-20240131）
- 按筛选表达式筛选（使用自定义筛选器的语法）

**批量操作：**
1. **添加领域**：为选中的记录批量添加领域关联
2. **移除领域**：为选中的记录批量移除领域关联
3. **替换领域**：将选中记录的某个领域替换为另一个领域
4. **关联待办**：为选中的记录批量关联待办
5. **取消关联待办**：为选中的记录批量取消待办关联
6. **更改活动**：将选中记录的活动批量改为另一个活动