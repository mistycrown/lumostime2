# Todo/æ ‡ç­¾/é¢†åŸŸå›¾æ ‡é€‰æ‹©å™¨åŠŸèƒ½

## åŠŸèƒ½æ¦‚è¿°

åœ¨ Todo Managementã€Tag Management å’Œ Scope Management é¡µé¢ä¸­ï¼Œä¸ºåˆ†ç±»å’Œå­é¡¹æ·»åŠ äº†å¿«é€Ÿå›¾æ ‡é€‰æ‹©åŠŸèƒ½ã€‚å½“ç”¨æˆ·å¯ç”¨è‡ªå®šä¹‰ UI å›¾æ ‡ä¸»é¢˜æ—¶ï¼Œå¯ä»¥é€šè¿‡ç‚¹å‡»è°ƒè‰²æ¿æŒ‰é’®å¿«é€Ÿé€‰æ‹©å›¾æ ‡ã€‚

## åŠŸèƒ½ç‰¹æ€§

### 1. æ¡ä»¶æ˜¾ç¤º
- ä»…åœ¨ç”¨æˆ·å¯ç”¨è‡ªå®šä¹‰ UI å›¾æ ‡ä¸»é¢˜æ—¶æ˜¾ç¤ºï¼ˆ`uiIconTheme !== 'default'`ï¼‰
- ä½¿ç”¨ `uiIconService.isCustomTheme()` åˆ¤æ–­æ˜¯å¦å¯ç”¨

### 2. æŒ‰é’®ä½ç½®
- ä½äºæ¯ä¸ªåˆ†ç±»/å­é¡¹æ ‡é¢˜è¡Œçš„å³ä¾§æŒ‰é’®ç»„ä¸­
- åœ¨ä¸Šä¸‹ç§»åŠ¨æŒ‰é’®çš„å·¦ä¾§
- ä½¿ç”¨è°ƒè‰²æ¿å›¾æ ‡ï¼ˆPaletteï¼‰è¡¨ç¤º

### 3. æ”¯æŒçš„é¡µé¢å’Œå±‚çº§

#### Todo Management (TodoBatchManageView)
- **å¤§åˆ†ç±»**ï¼šæ”¯æŒå›¾æ ‡é€‰æ‹©å™¨

#### Tag Management (BatchManageView)
- **å¤§åˆ†ç±»ï¼ˆCategoryï¼‰**ï¼šæ”¯æŒå›¾æ ‡é€‰æ‹©å™¨
- **äºŒçº§åˆ†ç±»ï¼ˆActivityï¼‰**ï¼šæ”¯æŒå›¾æ ‡é€‰æ‹©å™¨

#### Scope Management (ScopeManageView)
- **é¢†åŸŸï¼ˆScopeï¼‰**ï¼šæ”¯æŒå›¾æ ‡é€‰æ‹©å™¨

### 4. äº¤äº’æµç¨‹
1. ç‚¹å‡»è°ƒè‰²æ¿æŒ‰é’®ï¼Œå±•å¼€å›¾æ ‡é€‰æ‹©å™¨
2. é€‰æ‹©å™¨æ˜¾ç¤ºåœ¨å¯¹åº”é¡¹ç›®ä¸‹æ–¹
3. é€‰æ‹©å›¾æ ‡åï¼Œè‡ªåŠ¨æ›´æ–°å¯¹åº”é¡¹çš„ icon å­—æ®µ
4. é€‰æ‹©å™¨è‡ªåŠ¨å…³é—­

### 5. å›¾æ ‡æ ¼å¼
- é€‰ä¸­çš„å›¾æ ‡ä»¥ `ui:iconType` æ ¼å¼å­˜å‚¨
- ä¾‹å¦‚ï¼š`ui:study`ã€`ui:book`ã€`ui:code` ç­‰

## æŠ€æœ¯å®ç°

### ç»„ä»¶å¼•å…¥
```typescript
import { UIIconSelectorCompact } from '../components/UIIconSelector';
import { uiIconService } from '../services/uiIconService';
import { useSettings } from '../contexts/SettingsContext';
import { Palette } from 'lucide-react';
```

### çŠ¶æ€ç®¡ç†

#### Todo Management & Scope Management
```typescript
const [iconSelectorOpen, setIconSelectorOpen] = useState<string | null>(null);
const { uiIconTheme } = useSettings();
const isCustomIconEnabled = uiIconService.isCustomTheme();
```

#### Tag Management (æ”¯æŒä¸¤çº§)
```typescript
const [iconSelectorOpen, setIconSelectorOpen] = useState<{ type: 'category' | 'activity', id: string } | null>(null);
const { uiIconTheme } = useSettings();
const isCustomIconEnabled = uiIconService.isCustomTheme();
```

### å›¾æ ‡é€‰æ‹©å¤„ç†

#### å•å±‚çº§ï¼ˆTodo/Scopeï¼‰
```typescript
const handleIconSelect = (id: string, iconString: string) => {
    // Update icon in state
    setIconSelectorOpen(null);
};
```

#### åŒå±‚çº§ï¼ˆTagï¼‰
```typescript
const handleCategoryIconSelect = (catId: string, iconString: string) => {
    // Update category icon
    setIconSelectorOpen(null);
};

const handleActivityIconSelect = (catId: string, actId: string, iconString: string) => {
    // Update activity icon
    setIconSelectorOpen(null);
};
```

## UI å¸ƒå±€

### Todo Management / Scope Management
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â–¼] ui:exploreå¿«é€Ÿå¼€å§‹  [ğŸ¨][â†‘][â†“][+][ğŸ—‘]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [å›¾æ ‡é€‰æ‹©å™¨ç½‘æ ¼ - ä»…åœ¨ç‚¹å‡»ğŸ¨åæ˜¾ç¤º]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å†…å®¹åŒºåŸŸ...                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tag Management (ä¸¤çº§)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â–¼] ui:homeç”Ÿæ´»  [ğŸ¨][â†‘][â†“][+][ğŸ—‘]             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [åˆ†ç±»å›¾æ ‡é€‰æ‹©å™¨ - ä»…åœ¨ç‚¹å‡»åˆ†ç±»ğŸ¨åæ˜¾ç¤º]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â‹® ui:commuteé€šå‹¤  [ğŸ¨][â†‘][â†“][ğŸ—‘]             â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â”‚ [æ´»åŠ¨å›¾æ ‡é€‰æ‹©å™¨ - ä»…åœ¨ç‚¹å‡»æ´»åŠ¨ğŸ¨åæ˜¾ç¤º]      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   â‹® ğŸ½é¥®é£Ÿ  [ğŸ¨][â†‘][â†“][ğŸ—‘]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ç”¨æˆ·ä½“éªŒ

### ä¼˜ç‚¹
- å¿«é€Ÿä¿®æ”¹å›¾æ ‡ï¼Œæ— éœ€æ‰‹åŠ¨è¾“å…¥ `ui:` å‰ç¼€
- å¯è§†åŒ–é€‰æ‹©ï¼Œæ›´ç›´è§‚
- ä»…åœ¨éœ€è¦æ—¶æ˜¾ç¤ºï¼Œä¸å½±å“é»˜è®¤ä¸»é¢˜ç”¨æˆ·
- æ”¯æŒå¤šå±‚çº§ç»“æ„ï¼ˆTag Management æ”¯æŒå¤§åˆ†ç±»å’ŒäºŒçº§åˆ†ç±»ï¼‰

### æ³¨æ„äº‹é¡¹
- å›¾æ ‡é€‰æ‹©å™¨ä½¿ç”¨ `UIIconSelectorCompact` ç»„ä»¶ï¼Œæ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å›¾æ ‡
- é€‰æ‹©å™¨åœ¨é€‰æ‹©åè‡ªåŠ¨å…³é—­
- å¯ä»¥é€šè¿‡å†æ¬¡ç‚¹å‡»è°ƒè‰²æ¿æŒ‰é’®å…³é—­é€‰æ‹©å™¨
- Tag Management ä¸­ï¼Œå¤§åˆ†ç±»å’ŒäºŒçº§åˆ†ç±»çš„å›¾æ ‡é€‰æ‹©å™¨ç‹¬ç«‹ç®¡ç†

## ç›¸å…³æ–‡ä»¶

- `src/views/TodoBatchManageView.tsx` - Todo ç®¡ç†
- `src/views/BatchManageView.tsx` - æ ‡ç­¾ç®¡ç†ï¼ˆæ”¯æŒä¸¤çº§ï¼‰
- `src/views/ScopeManageView.tsx` - é¢†åŸŸç®¡ç†
- `src/components/UIIconSelector.tsx` - å›¾æ ‡é€‰æ‹©å™¨ç»„ä»¶
- `src/services/uiIconService.ts` - å›¾æ ‡æœåŠ¡
- `src/contexts/SettingsContext.tsx` - è®¾ç½®ä¸Šä¸‹æ–‡

## æ›´æ–°æ—¥æœŸ

2026-02-08
